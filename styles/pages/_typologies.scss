@use "sass:color";
@use '../utils/variables' as *;
@use '../utils/mixins' as *;
@use "../components/separation-section" as *;
@use "../components/boutons" as *;


/* Scope page */
body.page-typologies {
    font-family: $font-body;
    color: #031837;
    background-color: $creme;
    line-height: 1.6;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
    overflow-x: hidden;

    img { max-width: 100%; height: auto; display: block; }
    a { text-decoration: none; color: inherit; }
    
    h1 {
    color: $bleu;
    font-family: $font-titles;
    font-weight: 800;
    font-size: $h1-size;
    text-align: center;
    line-height: 1.18;
    padding: clamp(0.5rem, 0.143rem + 0.952vw, 1rem);
    }

    h2 {
        font-family: $font-titles;
        font-size: $h2-size;
        color: $vert1;
        margin-bottom: 1.5rem;
        line-height: clamp(2.2rem,5vw,3rem);
    }

    p { 
        font-size: $p-size;
        text-align: justify;
        line-height: 1.8; 
        margin-bottom: 1.2rem; 
    }



    main {
        
        .intro {
            // background-color: $creme;
            padding: $padding-marge-section;
            color: $bleu;
        
            .intro-container {
                width: min(1100px, 92vw);
                display: grid;
                grid-template-columns: 2fr 1fr;
                gap: clamp(1rem, 0.286rem + 1.905vw, 2rem);
                align-items: center;
                max-width: 1100px;
                margin: 0 auto;

                @media (max-width: 768px) {
                grid-template-columns: 1fr;
                }
                
                .intro-text {
                    display: flex;
                    flex-direction: column;
                    justify-content: space-between;
                    height: 100%;
                    font-size: $p-size;
                    line-height: 1.5;
                }

                .intro-ul {
                    margin-left: clamp(0.5rem, 0.169rem + 2.034vw, 2rem);
                }

                .intro-ul li {
                        margin-bottom: clamp(0rem, -0.357rem + 0.952vw, 0.5rem);
                    }
        
                .intro-image {
                    display: flex;
                    justify-self: flex-end;
                    @include cpe-zoom-frame(8s, ease-in-out, true, 1.05, -2%, -2%);
                    @include radius-cpe;
                    overflow: hidden;
                    box-shadow: $shadow-photo;
                    width: $witdh-img-500;
                    img {
                        width: 100%;
                        display: block;
                        margin: 0 auto;
                        height: 100%;
                        object-fit: cover;
                        display: block;
                    }
                }
                @media (max-width:933px){
                    .intro-image {
                        justify-self: center;
                        margin-bottom: 1rem;
                    }
                }

                .cta-buttons {
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
                gap: clamp(0.8rem, 1.6vw, 1.2rem);
                margin: clamp(1rem, 0.78rem + 1.356vw, 2rem) 0 1rem;
                }
            }
        }


        .etapes {
            padding: $padding-marge-section;
            color: $bleu;
            text-align: justify;

            .etapes-container {
                width: min(1100px, 92vw);
                margin: 0 auto;

                h4 {
                font-size: $h4-size;
                color: $violet;
                }

                .etapes-list {
                counter-reset: principe;
                list-style: none;
                margin: 2rem 0 0;
                padding: 0;
                display: grid;
                gap: 1.2rem;
                }

                .etapes-list > li {
                margin: 0;
                padding-bottom: 2rem;
                display: grid;
                gap: clamp(1rem, 3vw, 2rem);
                align-items: start;
                grid-auto-rows: auto;
                }

                @media (min-width: 768px) {
                .etapes-list > li:nth-child(odd) { grid-template-columns: 3fr 2fr; }
                .etapes-list > li:nth-child(odd) .etape-text    { grid-column: 1; grid-row: 1 / span 2; }
                .etapes-list > li:nth-child(odd) .etape-media   { grid-column: 2; grid-row: 1; }
                .etapes-list > li:nth-child(odd) .etape-limites { grid-column: 2; grid-row: 2; }

                .etapes-list > li:nth-child(even) { grid-template-columns: 1fr 2fr; }
                .etapes-list > li:nth-child(even) .etape-media   { grid-column: 1; grid-row: 1; }
                .etapes-list > li:nth-child(even) .etape-limites { grid-column: 1; grid-row: 2; }
                .etapes-list > li:nth-child(even) .etape-text    { grid-column: 2; grid-row: 1 / span 2; }
                }

                .etape-text { text-align: left; }

                .etape-media {
                width: $witdh-img-400;
                aspect-ratio: 2 / 3;
                @include radius-cpe;
                overflow: hidden;
                box-shadow: $shadow-photo;

                img {
                    width: $witdh-img-500;
                    height: 100%;
                    display: block;
                    object-fit: cover;
                    object-position: center;
                }
                }

                .etape-limites {
                align-self: start;
                // background: rgba(26,46,77,0.035);
                // border: 1px solid rgba(26,46,77,0.08);
                // border-radius: 0.5rem;
                padding: clamp(0.6rem, 1.4vw, 0.9rem);
                // box-shadow: 0 2px 6px rgba(0,0,0,0.04);

                p { margin: 0 0 0.35rem; font-size: $p-size; }
                ul {
                    margin: 0;
                    padding: 0;
                    list-style: disc inside;
                    li { margin: .25rem 0; font-size: $p-size; line-height: 1.55; }
                }
                }

                .etapes-list .etape-text > h5 {
                font-size: $h5-size;
                display: flex;
                align-items: center;
                margin-bottom: 0.5rem;
                }

                .etapes-list .etape-text > p { font-size: $p-size; }

                li:last-child { padding-bottom: 0; }

                .etapes-list .etape-text > h4 {
                display: flex;
                align-items: center;
                justify-content: center;
                flex-wrap: nowrap;
                gap: .75rem;
                margin: 0 0 .5rem;
                padding: 0;
                font-size: clamp(1.2rem, 2vw, 1.4rem);
                line-height: 1.35;
                color: $bleu;
                text-align: center;
                }

                .etapes-list .etape-text > h5::before {
                content: counter(principe);
                counter-increment: principe;
                flex: 0 0 auto;
                aspect-ratio: 1 / 1;
                width: 2.2rem;
                min-width: 2.2rem;
                height: auto;
                border-radius: 50%;
                display: inline-flex;
                align-items: center;
                justify-content: center;
                background: $vert3;
                color: $color-bg;
                font-weight: 800;
                font-size: 1rem;
                margin-right: 1rem;
                }

                .etapes-list .etape-text > ul {
                margin: .35rem auto 0.6rem;
                padding: 0;
                list-style: disc inside;
                }

                .etapes-list .etape-text > ul li {
                margin: .35rem 0;
                font-size: $p-size;
                line-height: 1.6;
                }

                @media (max-width: 768px) {
                .etapes-list > li {
                    grid-template-columns: 1fr;
                    justify-items: stretch;
                    align-items: center;
                }
                .etapes-list > li .etape-text {
                    grid-column: 1;
                    grid-row: 1;
                    width: 100%;
                    max-width: none;
                }
                .etapes-list > li .etape-limites {
                    grid-column: 1;
                    grid-row: 2;
                    align-self: start;
                    background: transparent;
                    border: 0;
                    box-shadow: none;
                    padding: 0;
                    margin-top: .35rem;
                }
                .etapes-list > li .etape-media {
                    justify-self: center;
                    grid-column: 1;
                    grid-row: 3;
                    max-width: none;
                }
                .etapes-list .etape-text > h5 {
                    flex-direction: column;
                    gap: .45rem;
                    justify-content: flex-start;
                    text-align: center;
                }
                .etapes-list .etape-text > h5::before {
                    width: clamp(1.8rem, 6vw, 2rem);
                    min-width: clamp(1.8rem, 6vw, 2rem);
                    font-size: .95rem;
                    margin-bottom: .1rem;
                    margin-right: 0;
                }
                .etapes-list .etape-text > ul { margin-left: 0; }
                }
            }
        }

        




        

        
    }
}


